<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Promise</title>
</head>
<body>
<script>
    // Промисифицировать setTimeout
    /*
     function delay(ms) {

        return  new Promise((resolve, reject) => {
            setTimeout( resolve, ms);
        });
    }

    delay(10000)
            .then(() => alert("Hello!"));
    */ //(+-)
    /*
    function delay(ms) {

        return new Promise((resolve, reject) => {
            setTimeout(resolve, ms);
        });
    }

    delay(5000).
        then(() => alert("Hello!"));
    */ //(+)
    /*
    function delay (ms)  {
        return new Promise((resolve, reject) => {
            setTimeout( resolve, ms );
        });
    }

    delay(1000)
        .then(() => alert("Hello!"));
    */ //(+)
    /*
    let delay = ms => {
        return new Promise((resolve, reject) => {
            setTimeout(resolve, ms);
        });
    };

    delay(5000)
        .then(() => alert("Hello!"));
    */ //(+)
    /*
    let delay = (ms) => {
        return new Promise((resolve, reject) => {
            setTimeout(resolve, ms);
    });
    };

    delay(5000)
        .then( () => alert("Hello!") );
    */ //(+)


    // Загрузить массив последовательно
    /*
    function httpGet(url) {
        return "куку";
    }

    let urls = [
        "user.json",
        "guest.json"
    ];

    var chain = Promise.resolve();

    var results = [];

    urls.forEach( function (url) {
        chain = chain
            .then(function () {
                return httpGet(url);
            })
            .then( function (result) {
                return results.push(result);
            });
    });

    chain.then( function () {
        return alert(results);
    });
    */ //(-)
    /*
    function httpGet() {
        return "getHttp";
    }

    let urls = [
        "user.json",
        "guest.json"
    ];

    let results = [];

    let chain = Promise.resolve();

    urls.forEach( function (url) {
        chain = chain
            .then(() => httpGet(url))
            .then((result) => {
                results.push(result);
            });
    });

    chain.then(() => {
        alert(results);
    });
    */ //(-)
    /*
    let httpGet = () => "ку";

    let urls = [
        "user.json",
        "guest.json"
    ];

    let results = [];
    let chain = Promise.resolve();

    urls.forEach(function (url) {
        chain = chain
            .then(() => httpGet(url))
            .then((result) => {
                results.push(result);
            });
    });

    chain
        .then(() => {
            alert(results);
        })
    */ //(-)
    /*
    let httpGet = () => "url";

    let urls = [
        "user.json",
        "guest.json"
    ];

    let results = [];

    let chain = Promise.resolve();

    urls.forEach( function(url)  {
        chain = chain
            .then(() => httpGet(url))
            .then((result) =>  {
                results.push(result)
            });
    });

    chain
        .then(() => {
            alert(results);
        });
    */ //(-)
    /*
    let httpGet = () => "url";

    let urls = [
        "user.json",
        "guest.json"
    ];

    let results = [];

    let chain = Promise.resolve();

    urls.forEach((url) => {
        chain = chain
            .then(() => httpGet(url))
            .then((result) => {
                results.push(result);
            });
    });

    chain
        .then(() => alert(results));
    */ //(+)
    /*
    let httpGet = () => "Url!";

    let urls = [
        "user.json",
        "guest.json"
    ];

    let results = [];

    let chain = Promise.resolve();


        urls.forEach((url) => {
            chain = chain
                    .then(() => httpGet(url))
                    .then((result) => {
                        results.push(result);
                    });
        });

    chain
        .then( () => alert(results) );
    */ //(+)

</script>
</body>
</html>