<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Prototype</title>
</head>
<body>
<script>

    // Добавить функциям defer
    /*
    function f() {
        alert("привет");
    }

    Object.prototype.defer = function (ms) {
        setTimeout(function () {
            f.apply(this, arguments);
        }, ms);
    };

    f.defer(10000);
    */
    /*
    Function.prototype.defer = function (ms) {
        setTimeout(this, ms);
    };

    function f() {
        alert("Привет");
    }

    f.defer(1000);
    */ //(+)
    /*
    Function.prototype.defer = function (ms) {
        setTimeout(this, ms);
    };

    function f() {
        alert("Привет");
    }

    f.defer(1000);
    */ //(+)
    /*
    Function.prototype.defer = function (ms) {
        setTimeout(this, ms);
    };

    function f() {
        alert("Привет");
    }

    f.defer(1000);
    */ //(+)
    /*
    Function.prototype.defer = function (ms) {
        setTimeout(this, ms);
    };

    function f() {
        alert("привет");
    }

    f.defer(4000);
    */ //(+)
    /*
    Function.prototype.defer = function (ms) {
        setTimeout(this, ms);
    };

    function f() {
        alert("привет");
    }

    f.defer(1000);
    */ //(+)
    /*
    Function.prototype.defer = function (ms) {
        setTimeout(this, ms);
    };

    function f() {
        alert("привет");
    }

    f.defer(1000);
    */ //(+)
    /*
    Function.prototype.defer = function (ms) {
        setTimeout(this, ms);
    };

    function f() {
        alert("привет");
    }

    f.defer(1000);
    */ //(+)
    /*
    Function.prototype.defer = function (ms) {
        setTimeout(this, ms);
    };

    function f() {
        alert("привет");
    }

    f.defer(1000);
    */ //(+)
    /*
    Function.prototype.defer = function (ms) {
        setTimeout(this, ms)
    };

    function f() {
        alert("привет");
    }

    f.defer(1000);
    */ //(+)
    /*
    Function.prototype.defer = function (ms) {
        return setTimeout(this, ms);
    };

    function f() {
        alert("привет");
    }

    f.defer(1000);
    */ //(+)

    // Добавить функциям defer с аргументами
    /*
    Function.prototype.defer = function (ms) {
        var f = this;

        return function () {
            var args = arguments,
            context = this;
            setTimeout(function () {
                f.apply(context, args);
            }, ms);
        }
    };

    function f(a, b) {
        alert(a + b);
    }

    f.defer(1000)(1, 2);
    */ //(-)
    /*
    Function.prototype.defer = function (ms) {
        var ff = this;

        return function () {
            var self = this;
            var args = arguments;

            setTimeout(function () {
                ff.apply(self, args);
            }, ms);
        }
    };

    function f(a, b) {
        alert( a + b);
    }

    f.defer(4000)(1, 2);
    */ //(+)
    /*
    Function.prototype.defer = function (ms) {
        var func = this;

        return function () {
            var context = this;
            var args = arguments;
            setTimeout(function () {
                func.apply(context, args);
            }, ms);
        }
    };

    function f(a, b) {
        alert( a + b );
    }

    f.defer(1000)(1, 2);
    */ //(+)
    /*
    Function.prototype.defer = function (ms) {

        var func = this;
        return function () {
            var context = this;
            var args = arguments;
            setTimeout(function () {
                func.apply(context, args);
            }, ms);
        }
    };

    function f(a, b) {
        alert( a + b );
    }

    f.defer(4000)(3, 2);
    */ //(+)
    /*
    Function.prototype.defer = function (ms) {

        var myFunc = this;
        return function () {
            var context = this;
            var args = arguments;

            setTimeout(function () {
                myFunc.apply(context, args);
            }, ms);
        }
    };

    function f(a, b) {
        alert(a + b);
    }

    f.defer(2000)(3, 2);
    */ //(+)
    /*
    Function.prototype.defer = function (ms) {
        var func = this;

        function wrapper() {
            var args = arguments;
            var context = this;
            setTimeout(function () {
                func.apply(context, args);
            }, ms);
        }
        return wrapper;
    };

    function f(a, b) {
        alert(a + b);
    }

    f.defer(1000)(3, 2);
    */ //(+)
    /*
    Function.prototype.defer = function (ms) {
        var savedFunction = this;

        return function () {
            var context = this;
            var args = arguments;
            setTimeout( function () {
                savedFunction.apply(context, args);
            }, ms);
        }
    };

    function f(a, b) {
        alert(a + b);
    }

    f.defer(1000)(1, 2);
    */ //(+)
    /*
    Function.prototype.defer = function (ms) {
        var ff = this;
        return function () {
            var self = this;
            var args = arguments;
            setTimeout(function () {
                ff.apply(self, args);
            }, ms);
        }
    };

    function f(a, b) {
        alert( a + b );
    }

    f.defer(1000)(1, 2);
    */ //(+)
    /*
    Function.prototype.defer = function (ms) {
        var func = this;
        function wrapper() {
            var context = this;
            var args = arguments;
           setTimeout( function () {
               func.apply(context, args);
           }, ms);
        }
        return wrapper;
    };

    function f(a, b) {
        alert( a + b );
    }

    f.defer(1000)(1, 2);
    */ //(+)
    /*
    Function.prototype.defer = function (ms) {
        var myFunction = this;
        return function () {
            var context = this;
            var args = arguments;
            setTimeout(function () {
                myFunction.apply(context, args);
            }, ms);
        }
    };

    function f(a, b) {
        alert( a + b );
    }

    f.defer(1000)(3, 2);
    */ //(+)

    // Перепишите в виде класса
    /*
    function CoffeeMachine(power) {

        this._power = power;
        this._waterAount = 0;
        this._WATER_HEAT_CAPACITY = 4200;

    }

    CoffeeMachine.prototype.getTimeBoil = function () {
        return this._waterAount * this._WATER_HEAT_CAPACITY * 80 / this._power;
    };

    CoffeeMachine.prototype.run = function () {
        setTimeout( function () {
            alert("Кофе готов!");
        }, this.getTimeBoil());
    };

    CoffeeMachine.prototype.setWaterAmount = function (amount) {
          this._waterAount = amount;
    };

    var coffeeMachine = new CoffeeMachine(10000);
    coffeeMachine.setWaterAmount(500);
    coffeeMachine.run();
    */ //(+)
    /*
    function CoffeeMachine(power) {
        this._power = power;
        this._waterAmount = 0;
    }

    CoffeeMachine.prototype.WATER_HEAT_CAPACITY = 4200;

    CoffeeMachine.prototype._getTimeBoil = function () {
        return this._waterAmount * this.WATER_HEAT_CAPACITY * 80 / this._power;
    };

    CoffeeMachine.prototype.run = function () {
        setTimeout( function () {
            alert("Кофе готов!");
        }, this._getTimeBoil());
    };

    CoffeeMachine.prototype.setWaterAmount = function (amount) {
        this._waterAmount = amount;
    };

    var coffeeMachine = new CoffeeMachine(10000);
    coffeeMachine.setWaterAmount(50);
    coffeeMachine.run();
    */ //(+)
    /*
    function CoffeeMachine(power) {
        this._power = power;
        this._waterAmount = 0;
    }

    CoffeeMachine.prototype.WATER_HEAT_CAPACITY = 4200;

    CoffeeMachine.prototype._getTimeBoil = function () {
        return this._waterAmount * this.WATER_HEAT_CAPACITY * 80 / this._power;
    };

    CoffeeMachine.prototype.run = function () {
        setTimeout(function () {
            alert("Кофе готов!");
        }, this._getTimeBoil() );
    };

    CoffeeMachine.prototype.setWaterAmount = function (amount) {
        this._waterAmount = amount;
    };

    var coffeeMachine = new CoffeeMachine(10000);
    coffeeMachine.setWaterAmount(50);
    coffeeMachine.run();
    */ //(+)
    /*
    function CoffeeMachine(power) {
        this._power = power;
        this._waterAmount = 0;
    }

    CoffeeMachine.prototype.WATER_HEAT_CAPACITY = 4200;

    CoffeeMachine.prototype._getTimeBoil = function () {
        return this._waterAmount * this.WATER_HEAT_CAPACITY * 80 / this._power;
    };

    CoffeeMachine.prototype.run = function () {
        setTimeout( function () {
            alert("кофе готов!");
        }, this._getTimeBoil() );
    };

    CoffeeMachine.prototype.setWaterAmount = function (amount) {
        this._waterAmount = amount;
    };

    var coffeeMachine = new CoffeeMachine(10000);
    coffeeMachine.setWaterAmount(50);
    coffeeMachine.run();
    */ //(+)
    /*
    function CoffeeMachine(power) {
        this._power = power;
        this._waterAmount = 0;
    }

    CoffeeMachine.prototype.WATER_HEAT_CAPACITY = 4200;

    CoffeeMachine.prototype._getTimeBoil = function () {
        return this._waterAmount * this.WATER_HEAT_CAPACITY * 80 / this._power;
    };

    CoffeeMachine.prototype.run = function () {
        setTimeout(function () {
            alert("кофе готов!");
        }, this._getTimeBoil() );
    };

    CoffeeMachine.prototype.setWaterAmount = function (amount) {
        this._waterAmount = amount;
    };

    var coffeeMachine = new CoffeeMachine(10000);
    coffeeMachine.setWaterAmount(50);
    coffeeMachine.run();
    */ //(+)
    /*
    function CoffeeMachine(power) {
        this._power = power;
        this._waterAmount = 0;
    }

    CoffeeMachine.prototype.WATER_HEAT_CAPACITY = 4200;

    CoffeeMachine.prototype._getTimeBoil = function () {
        return this._waterAmount * this.WATER_HEAT_CAPACITY * 80 / this._power;
    };

    CoffeeMachine.prototype.run = function () {
        setTimeout( function () {
            alert("Кофе готов!");
        }, this._getTimeBoil() );
    };

    CoffeeMachine.prototype.setWaterAmount = function (amount) {
        return this._waterAmount = amount;
    };

    var coffeeMachine = new CoffeeMachine(10000);
    coffeeMachine.setWaterAmount(50);
    coffeeMachine.run();
    */ //(+)
    /*
    function CoffeeMachine(power) {
        this._power = power;
        this._waterAmount = 0;
    }

    CoffeeMachine.prototype.WATER_HEAT_CAPACITY =4200;

    CoffeeMachine.prototype._getTimeBoil = function () {
        return this._waterAmount * this.WATER_HEAT_CAPACITY * 80 / this._power;
    };

    CoffeeMachine.prototype.run = function () {
        setTimeout( function () {
            alert("Кофе готов!");
        }, this._getTimeBoil() );
    };

    CoffeeMachine.prototype.setWaterAmount = function (amount) {
        this._waterAmount = amount;
    };

    var coffeeMachine = new CoffeeMachine(10000);
    coffeeMachine.setWaterAmount(50);
    coffeeMachine.run();
    */ //(+)

    // Хомяки с __proto__
    /*
    function Hamster() {
        this.food = [];
    }

    Hamster.prototype.found = function (something) {
        this.food.push(something);
    };

    var speedy = new Hamster();
    var lazy = new Hamster();

    speedy.found("яблоко");
    speedy.found("орех");
    lazy.found("орех");

    alert("speedy: " + speedy.food.length + " - " + speedy.food + "\n" +
          "lazy: " + lazy.food.length + " - " + lazy.food );
    */ //(+)
    /*
    function Hamster() {
        this.food = [];
    }

    Hamster.prototype.found = function (something) {
        this.food.push(something);
    };

    var speedy = new Hamster();
    var lazy = new Hamster();

    speedy.found("Яблоко");
    speedy.found("Орех");

    alert( speedy.food.length );
    alert( lazy.food.length );
    */ //(+)
    /*
    function Hamster() {
        this.food = [];
    }

    Hamster.prototype.found = function (something) {
        this.food.push(something);
    };

    var speedy = new Hamster();
    var lazy = new Hamster();

    speedy.found("яблоко");
    speedy.found("орех");

    alert( speedy.food.length);
    alert( lazy.food.length);
    */ //(+)
    /*
    function Hamster() {
        this.food = [];
    }

    Hamster.prototype.found = function (something) {
        this.food.push(something);
    };

    var speedy = new Hamster();
    var lazy = new Hamster();

    speedy.found("яблоко");
    speedy.found("орех");

    alert( speedy.food.length );
    alert( lazy.food.length );
    */ //(+)
    /*
    function Hamster() {
        this.food = [];
    }

    Hamster.prototype.found = function (something) {
        this.food.push(something);
    };

    var speedy = new Hamster();
    var lazy = new Hamster();

    speedy.found("яблоко");
    speedy.found("орех");

    alert( speedy.food.length );
    alert( lazy.food.length );
    */ //(+)
    /*
    function Hamster() {
        this.food = [];
    }

    Hamster.prototype.found = function (something) {
        this.food.push(something);
    };

    var speedy = new Hamster();
    var lazy = new Hamster();

    speedy.found("яблоко");
    speedy.found("орех");

    alert( speedy.food.length );
    alert( lazy.food.length );
    */ //(+)
    /*
    function Hamster() {
        this.food = [];
    }

    Hamster.prototype.found = function (somethisng) {
        this.food.push(somethisng);
    };

    var speedy = new Hamster();
    var lazy = new Hamster();

    speedy.found("яблоко");
    speedy.found("орех");

    alert( speedy.food.length );
    alert( lazy.food.length );
    */ //(+)


    // Класс часы
    /*
    function Clock(options) {
        this._template = options.template;
    }

    Clock.prototype._stop = function () {
        clearInterval(this._timer)
    };

    Clock.prototype._start = function () {
        this._render();
        var self = this;
        this._timer = setInterval( function () {
            self._render()
        }, 1000);
    };

    Clock.prototype._render = function () {
        var date = new Date();

        var hours = date.getHours();
        if (hours < 10) hours = '0' + hours;

        var min = date.getMinutes();
        if (min < 10) min = '0' + min;

        var sec = date.getSeconds();
        if (sec < 10) sec = '0' + sec;

        var output = this._template.replace('h', hours).replace('m', min).replace('s', sec);

        console.log(output);
    };


    var clock = new Clock({
        template: 'h:m:s'
    });

    clock._start();
    */ //(+-)

    // Класс "расширенные часы"

    // Меню с таймером для анимации
    /*
    function Menu(state) {
        this._state = state || this.STATE_CLOSE;
    }

    Menu.prototype.STATE_OPEN = 1;
    Menu.prototype.STATE_CLOSE = 0;

    Menu.prototype.open = function () {
        this._state = this.STATE_OPEN;
    };

    Menu.prototype.close = function () {
        this._state = this.STATE_CLOSE;
    };

    Menu.prototype._stateAsString = function () {
        switch (this._state) {
            case this.STATE_OPEN:
                return "открыто";

            case this.STATE_CLOSE:
                return "закрыто";
        }
    };

    Menu.prototype.showState = function () {
        alert(this._stateAsString());
    };



    function AnimatingMenu() {
        Menu.apply(this, arguments);
    }

    AnimatingMenu.prototype = Object.create(Menu.prototype);
    AnimatingMenu.prototype.constructor = AnimatingMenu;

    AnimatingMenu.prototype.STATE_ANIMATING = 2;

    AnimatingMenu.prototype.open = function () {
        var self = this;
        this._state = this.STATE_ANIMATING;
        this._timer = setTimeout( function () {
            Menu.prototype.open.call(self);
        }, 1000);
    };

    AnimatingMenu.prototype.close = function () {
        clearTimeout(this._timer);
        Menu.prototype.close.apply(this);
    };

    AnimatingMenu.prototype._stateAsString = function () {
        switch (this._state){
            case this.STATE_ANIMATING:
                return "анимация";

            default:
                return Menu.prototype._stateAsString.call(this);
        }
    };


    var menu = new AnimatingMenu();
    menu.showState();
    menu.open();
    menu.showState();

    setTimeout( function () {
        menu.showState();

        menu.close();
        menu.showState();
    }, 1000);
    */ //(-)
    /*
    function Menu(state) {
        this._state = state || this.STATE_CLOSE;
    }

    Menu.prototype.STATE_OPEN = 1;
    Menu.prototype.STATE_CLOSE = 0;

    Menu.prototype.open = function () {
        this._state = this.STATE_OPEN;
    };

    Menu.prototype.close = function () {
        this._state = this.STATE_CLOSE;
    };

    Menu.prototype.showState = function () {
        switch (this._state) {
            case this.STATE_OPEN :
                return alert("открыто");
            case  this.STATE_CLOSE :
                return alert("закрыто");
        }
    };

    function AnimatingMenu(state) {
        Menu.apply(this, arguments);
    }

    AnimatingMenu.prototype = Object.create(Menu.prototype);
    AnimatingMenu.prototype.constructor = AnimatingMenu;

    AnimatingMenu.prototype.STATE_ANIMATING = 2;

    AnimatingMenu.prototype.open = function () {
        this._state = this.STATE_ANIMATING;
        var self = this;
        this._timer = setTimeout(function () {
            Menu.prototype.open.apply(self, arguments);
        }, 1000);
    };

    AnimatingMenu.prototype.close = function () {
        clearTimeout(this._timer);
        Menu.prototype.close.apply(this, arguments);
    };

    AnimatingMenu.prototype.showState = function () {
        switch (this._state) {
            case this.STATE_ANIMATING :
                return alert("анимация");
            default :
                Menu.prototype.showState.apply(this, arguments);
        }
    };

    var menu = new AnimatingMenu();

    menu.showState(); // закрыто

    menu.open();
    menu.showState(); // анимация

    setTimeout(function() {
        menu.showState(); // открыто

        menu.close();
        menu.showState(); // закрыто (закрытие без анимации)
    }, 1000);
    */ //(+)
    /*
    function Menu(state) {
        this._state = state || this.STATE_CLOSED;
    }

    Menu.prototype.STATE_OPEN = 1;
    Menu.prototype.STATE_CLOSED = 0;

    Menu.prototype.open = function() {
        this._state = this.STATE_OPEN;
    };

    Menu.prototype.close = function() {
        this._state = this.STATE_CLOSED;
    };

    Menu.prototype._stateAsString = function() {
        switch (this._state) {
            case this.STATE_OPEN:
                return 'открыто';

            case this.STATE_CLOSED:
                return 'закрыто';
        }
    };

    Menu.prototype.showState = function() {
        alert(this._stateAsString());
    };

    function AnimatingMenu(state) {
        Menu.apply(this, arguments);
    }

    AnimatingMenu.prototype = Object.create(Menu.prototype);
    AnimatingMenu.prototype.constructor = AnimatingMenu;

    AnimatingMenu.prototype.STATE_ANIMATING = 2;

    AnimatingMenu.prototype.open = function () {
        this._state = this.STATE_ANIMATING;
        var self = this;
        this._timer = setTimeout(function () {
            Menu.prototype.open.call(self);
        }, 1000);
    };

    AnimatingMenu.prototype.close = function () {
        clearTimeout(this._timer);
        Menu.prototype.close.apply(this);
    };

    AnimatingMenu.prototype._stateAsString = function() {
        switch (this._state) {
            case this.STATE_ANIMATING:
                return 'анимация';

            default :
                return Menu.prototype._stateAsString.apply(this, arguments);
        }
    };

    var menu = new AnimatingMenu();

    menu.showState(); // закрыто

    menu.open();
    menu.showState(); // анимация

    setTimeout(function() {
        menu.showState(); // открыто

        menu.close();
        menu.showState(); // закрыто (закрытие без анимации)
    }, 1000);
    */ //(+-)


</script>
</body>
</html>